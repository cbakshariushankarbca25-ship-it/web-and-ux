<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event Registration</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
    body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg,#6a11cb,#2575fc);
        margin: 0; padding: 0;
        text-align: center;
        color: #fff;
    }

    h1 { margin-top: 20px; }

    .event-card {
        display: inline-block;
        width: 230px;
        margin: 15px;
        background: rgba(255,255,255,0.25);
        padding: 15px;
        border-radius: 15px;
        backdrop-filter: blur(6px);
        cursor: pointer;
        transition: 0.3s;
    }
    .event-card:hover { transform: scale(1.05); }

    .event-img {
        width: 100%;
        height: 135px;
        border-radius: 10px;
        object-fit: cover;
    }

    .modal {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center; align-items: center;
    }
    .modal-content {
        width: 350px;
        background: #fff;
        color: #000;
        padding: 20px;
        border-radius: 12px;
        text-align: left;
        animation: fade .4s;
    }
    @keyframes fade {
        from {opacity: 0; transform: scale(0.9);}
        to {opacity: 1; transform: scale(1);}
    }

    input, select {
        width: 100%;
        padding: 8px;
        margin-top: 6px;
        border-radius: 6px;
        border: 1px solid #888;
    }

    button {
        width: 100%;
        padding: 10px;
        background: #ffda44;
        border: none;
        margin-top: 10px;
        border-radius: 7px;
        font-weight: bold;
        cursor: pointer;
    }
    button:hover { background: #ffee75; }
</style>
</head>

<body>

<h1>Register for an Event ðŸŽ‰</h1>
<div id="events"></div>

<!-- Modal Form -->
<div class="modal" id="formModal">
    <div class="modal-content">
        <h2 id="eventTitle"></h2>
        <img id="eventPreviewImg" style="width:100%;border-radius:10px;">

        <p><b>Date:</b> <span id="eventDate"></span></p>
        <p><b>Venue:</b> <span id="eventVenue"></span></p>

        <label>Name:</label>
        <input type="text" id="name">

        <label>Phone:</label>
        <input type="text" id="phone">

        <label>Age:</label>
        <select id="age"></select>

        <label>Ticket Type:</label>
        <select id="ticketType">
            <option>Normal</option>
            <option>VIP</option>
            <option>Student</option>
        </select>

        <button onclick="submitForm()">Submit</button>
        <button style="background:#d9534f;color:white;" onclick="closeForm()">Cancel</button>
    </div>
</div>

<script>
const { jsPDF } = window.jspdf;

// âœ” Correct event images added
const events = [
    { 
    name:"Music Concert ðŸŽ¤",
    img:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y29uY2VydHxlbnwwfHwwfHx8MA%3D%3D",   // using your exact uploaded image
    date:"12 Dec 2025",
    venue:"City Hall"
},


    { 
        name:"Art Exhibition ðŸŽ¨",
        img:"https://images.unsplash.com/photo-1503293050619-6048ffad0dc5?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8YXJ0JTIwZXhoaWJpdGlvbnxlbnwwfHwwfHx8MA%3D%3D",
        date:"14 Dec 2025",
        venue:"Art Gallery"
    },
    { 
        name:"Tech Conference ðŸ’»",
        img:"https://images.unsplash.com/photo-1582192730841-2a682d7375f9?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dGVjaCUyMGNvbmZlcmVuY2V8ZW58MHx8MHx8fDA%3D",
        date:"20 Jan 2026",
        venue:"Tech Convention Center"
    },
    { 
        name:"Food Festival ðŸ²",
        img:"https://plus.unsplash.com/premium_photo-1683121624323-0c5bf3ca6af2?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8Zm9vZCUyMGZlc3RpdmFsfGVufDB8fDB8fHww",
        date:"02 Feb 2026",
        venue:"Food Plaza"
    },
    { 
    name:"Marathon Run ðŸƒ",
    img:"https://plus.unsplash.com/premium_photo-1664304804132-35808bf95630?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8bWFyYXRob258ZW58MHx8MHx8fDA%3D",
    date:"18 Jan 2026",
    venue:"Stadium Park"
},

    { 
        name:"Photography Workshop ðŸ“·",
        img:"https://plus.unsplash.com/premium_photo-1714229505922-0ab8148bc2bf?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8d29ya3Nob3B8ZW58MHx8MHx8fDA%3D",
        date:"10 Jan 2026",
        venue:"Visual Studio"
    }
];

document.getElementById("events").innerHTML =
events.map((e,i)=>`
    <div class='event-card' onclick="openForm(${i})">
        <img class='event-img' src='${e.img}' alt='${e.name}'>
        <h3>${e.name}</h3>
    </div>
`).join("");

for(let i=13; i<=60; i++) age.innerHTML += `<option>${i}</option>`;

let selectedEvent;

function openForm(i){
    selectedEvent = events[i];
    eventTitle.textContent = selectedEvent.name;
    eventPreviewImg.src = selectedEvent.img;
    eventDate.textContent = selectedEvent.date;
    eventVenue.textContent = selectedEvent.venue;
    formModal.style.display = "flex";
}
function closeForm(){ formModal.style.display = "none"; }

function submitForm(){
    const name = document.getElementById("name").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const ageVal = document.getElementById("age").value;
    const ticketType = document.getElementById("ticketType").value;

    if(!name || !phone){
        alert("Please fill all details!");
        return;
    }

    const pdf = new jsPDF();

    pdf.setFontSize(14);
    pdf.text("ðŸŽ« EVENT TICKET", 20, 20);
    pdf.text(`Name: ${name}`, 20, 40);
    pdf.text(`Phone: ${phone}`, 20, 50);
    pdf.text(`Age: ${ageVal}`, 20, 60);
    pdf.text(`Ticket: ${ticketType}`, 20, 70);

    pdf.text(`Event: ${selectedEvent.name}`, 20, 90);
    pdf.text(`Date: ${selectedEvent.date}`, 20, 100);
    pdf.text(`Venue: ${selectedEvent.venue}`, 20, 110);

    pdf.save(`${selectedEvent.name}_Ticket.pdf`);
    closeForm();
}
</script>

</body>
</html>